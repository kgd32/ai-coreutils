# Documentation Fixes Skill

> **Purpose**: Track and categorize documentation issues found during work
> **Mode**: Documentation write access only

---

## Invocation

```
skill: "doc-fixes"
```

## Parameters

None required. Scans current documentation state and categorizes issues.

---

## Behavior

### Step 1: Scan Documentation

Read all documentation files and identify issues:

1. **Core Documentation** (`docs/`):
   - Check for outdated status claims
   - Find stale dates
   - Identify broken cross-references
   - Spot inconsistencies

2. **Session Logs** (`sessions/`):
   - Check for misordered files
   - Find incomplete summaries
   - Identify missing executive summaries

3. **Root Docs**:
   - Verify `CLAUDE.md` accuracy
   - Check `README.md` links

### Step 2: Categorize Issues

For each issue found, assign a category:

| Category | Badge | Description | Examples |
|----------|-------|-------------|----------|
| **Critical** | ðŸ”´ | Breaking issues affecting usability | Wrong phase status, broken functionality described as working |
| **Medium** | ðŸŸ¡ | Inconsistencies needing attention | Outdated dates, missing feature docs |
| **Low** | ðŸŸ¢ | Cosmetic improvements | Typos, formatting, whitespace |

### Step 3: Create/Update IMPROVEMENTS.md

Update `docs/IMPROVEMENTS.md` with categorized issues:

```markdown
# Documentation Improvements

> Last Updated: YYYY-MM-DD
> Auto-generated by doc-fixes skill

## ðŸ”´ Critical Issues

### [Issue Title]
- **Location**: [file.md:line](path/to/file.md)
- **Found**: YYYY-MM-DD
- **Description**: [What's wrong]
- **Impact**: [Why it matters]
- **Fix**: [What needs to change]

## ðŸŸ¡ Medium Issues

### [Issue Title]
- **Location**: [file.md:line](path/to/file.md)
- **Found**: YYYY-MM-DD
- **Description**: [What's wrong]
- **Fix**: [What needs to change]

## ðŸŸ¢ Low Issues

### [Issue Title]
- **Location**: [file.md:line](path/to/file.md)
- **Found**: YYYY-MM-DD
- **Description**: [What's wrong]
- **Fix**: [What needs to change]

## Recently Fixed

### [Issue Title]
- **Fixed**: YYYY-MM-DD
- **By**: [doc-sweep/doc-update/commit]
```

### Step 4: Link to Source

For each issue, include:
- File path with line number
- Direct link format: `[file.md:line](path/to/file.md)`
- Snippet of problematic content (if relevant)

### Step 5: Commit and Push

```bash
git add docs/IMPROVEMENTS.md
git commit -m "docs: update improvements tracker"
git push
```

---

## Issue Detection Patterns

### Critical Issues (ðŸ”´)

#### Inaccurate Status Claims
```bash
# Pattern: Documentation says complete but code shows otherwise
grep -r "Complete\|âœ…" docs/ | verify with code
```

#### Breaking Changes Not Documented
```bash
# Pattern: API changes without documentation update
grep -r "deprecated\|removed" src/ docs/
```

#### Wrong Phase Status
```bash
# Pattern: Phase marked complete but not verified
grep -A5 "Phase [0-9]" docs/XSTATE-MIGRATION-PLAN.md
```

### Medium Issues (ðŸŸ¡)

#### Stale Dates
```bash
# Pattern: Dates older than 30 days
grep -r "Last Updated" docs/ | check dates
```

#### Missing Feature Documentation
```bash
# Pattern: New code without corresponding docs
git log --since="30 days ago" --name-only -- src/
```

#### Inconsistent Terminology
```bash
# Pattern: Mixed capitalization/naming
grep -r "actor\|Agent\|agent" docs/
```

### Low Issues (ðŸŸ¢)

#### Typos
```bash
# Pattern: Common misspellings
grep -ri "recieve\|occured\|seperate" docs/
```

#### Formatting Issues
```bash
# Pattern: Inconsistent heading levels
grep -r "^#" docs/
```

#### Whitespace
```bash
# Pattern: Trailing whitespace
grep -r " $" docs/
```

---

## Output Format

### Console Output
```
Documentation Fixes Scan
Scanning documentation files...
Found 27 documentation files
Analyzing for issues...

Issues Found:
ðŸ”´ Critical: 2
ðŸŸ¡ Medium: 8
ðŸŸ¢ Low: 5

Updated: docs/IMPROVEMENTS.md
Committed and pushed.
```

### IMPROVEMENTS.md Structure

```markdown
# Documentation Improvements

> Last Updated: 2026-01-18
> Auto-generated by doc-fixes skill

---

## Summary

| Category | Count | Status |
|----------|-------|--------|
| ðŸ”´ Critical | 2 | Needs Attention |
| ðŸŸ¡ Medium | 8 | Pending |
| ðŸŸ¢ Low | 5 | Backlog |

---

## ðŸ”´ Critical Issues

### Phase 7 Status Inaccuracy
- **Location**: [XSTATE-MIGRATION-PLAN.md:42](docs/XSTATE-MIGRATION-PLAN.md)
- **Found**: 2026-01-18
- **Description**: Phase 7 marked as complete but implementation not verified
- **Impact**: Users may expect functionality that doesn't exist
- **Fix**: Update status to ðŸš§ In Progress or complete verification

### A2A Bridge Documentation Mismatch
- **Location**: [ARCHITECTURE.md:128](docs/ARCHITECTURE.md)
- **Found**: 2026-01-18
- **Description**: Documented bridge API doesn't match actual implementation
- **Impact**: Developers cannot use bridge correctly
- **Fix**: Update API examples to match `src/orchestration/bridges/a2a.bridge.ts`

---

## ðŸŸ¡ Medium Issues

### [Issue descriptions...]

---

## ðŸŸ¢ Low Issues

### [Issue descriptions...]

---

## Recently Fixed

### Crash Recovery Typos Fixed
- **Fixed**: 2026-01-18
- **By**: doc-sweep
- **Commit**: abc123def

---
```

---

## Common Issues by Category

### Critical (ðŸ”´)

1. **Wrong Phase Status**
   - Phase marked âœ… but not implemented
   - Phase marked complete but tests fail

2. **API Documentation Mismatch**
   - Function signatures don't match
   - Parameters documented incorrectly

3. **Broken Functionality Claims**
   - Feature described as working but isn't
   - Examples that don't execute

### Medium (ðŸŸ¡)

1. **Stale "Last Updated" Dates**
   - Dates older than 30 days
   - Documents not updated after changes

2. **Missing New Feature Docs**
   - New code without documentation
   - Features added to code but not docs

3. **Inconsistent Terminology**
   - "actor" vs "Actor" vs "Actor" mixed
   - "Phase N" vs "Phase N:" inconsistent

4. **Outdated Cross-References**
   - Links to non-existent files
   - References to moved content

### Low (ðŸŸ¢)

1. **Typos**
   - Common spelling errors
   - Wrong word usage

2. **Formatting Issues**
   - Inconsistent heading levels
   - Missing blank lines

3. **Style Inconsistencies**
   - Mixed quote styles
   - Inconsistent list formatting

---

## Issue Resolution

### Auto-Resolvable

These can be fixed automatically:
- ðŸŸ¢ Low: Typos, formatting
- ðŸŸ¡ Medium: Some outdated dates, simple link fixes

### Manual Review Required

These need human review:
- ðŸ”´ Critical: All critical issues
- ðŸŸ¡ Medium: Status changes, feature documentation

### Resolution Workflow

1. **doc-sweep** identifies issues â†’ Updates IMPROVEMENTS.md
2. **doc-update** fixes related docs â†’ Moves to "Recently Fixed"
3. Manual verification â†’ Removes from "Recently Fixed"

---

## Important Notes

- **Read-Only Code**: Never modifies code files
- **Documentation Only**: Only modifies `docs/IMPROVEMENTS.md`
- **Auto-Categorize**: Automatically assigns severity based on impact
- **Preserves History**: Moves fixed items to "Recently Fixed"
- **Auto-Commit**: Always commits and pushes updates

---

## Usage Examples

### Run After Code Changes
```
# After implementing phase 7
skill: "doc-fixes"
â†’ Updates IMPROVEMENTS.md with phase 7 documentation needs
```

### Run Before Release
```
# Before tagging release
skill: "doc-fixes"
â†’ Identifies all outstanding documentation issues
```

### Periodic Check
```
# Weekly documentation health check
skill: "doc-fixes"
â†’ Shows current documentation debt
```

---

**Related Skills**:
- `doc-agent.md` - Main entry point
- `doc-sweep.md` - Comprehensive sweep (fixes many issues)
- `doc-update.md` - Targeted updates
- `doc-expertise.md` - Shared knowledge

**Last Updated**: 2026-01-18
